<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Speciesplus information about the African bush elephant • rcites</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Speciesplus information about the African bush elephant">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rcites</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/elephant.html">Speciesplus information about the African bush elephant</a>
    </li>
    <li>
      <a href="../articles/get_started.html">Get started with rcites</a>
    </li>
    <li>
      <a href="../articles/rcites-vignette.html">Get started with rcites</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ibartomeus/rcites">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Speciesplus information about the African bush elephant</h1>
                        <h4 class="author">rcites team</h4>
            
            <h4 class="date">08-26-2018</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ibartomeus/rcites/blob/master/vignettes/elephant.Rmd"><code>vignettes/elephant.Rmd</code></a></small>
      <div class="hidden name"><code>elephant.Rmd</code></div>

    </div>

    
    
<!-- https://cran.r-project.org/web/packages/httr/vignettes/secrets.html -->
<div id="introduction-and-setup" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction-and-setup" class="anchor"></a>Introduction and setup</h1>
<p>In <a href="https://ibartomeus.github.io/rcites/articles/get_started.html">Get started with rcites</a>, we explained how to get a token and set it up for general access to the CITES Speciesplus database. Also, we very briefly introduced to how to code the key features of <code>rcites</code>. With this article, we aim to further introduce to the functionality and workflows of <code>rcites</code>. For this, we use the African bush elephant (<em>Loxodonta africana</em>, hereafter “elephant”) as case example. The elephant not only is a highly endangered species that is illegally traded globally but also a flashship species of nature conservation and the logo species of CITES.</p>
<p>To start, we do some basic set up. This is calling the package and setting the token.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(rcites)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="../reference/set_token.html">set_token</a></span>(<span class="st">"8QW6Qgh57sBG2k0gtt"</span>)</a></code></pre></div>
</div>
<div id="retrieve-the-taxon-id" class="section level1">
<h1 class="hasAnchor">
<a href="#retrieve-the-taxon-id" class="anchor"></a>Retrieve the taxon id</h1>
<p>In order to access Speciesplus information about the elephant, we first need to retreive its Speciesplus taxon identifier. For this, we use the <code><a href="../reference/spp_taxonconcept.html">spp_taxonconcept()</a></code> function and look for the elephant’s scientific name, <em>Loxodonta africana</em>, as <code>query_taxon</code> argument.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">elephant_taxonconcept &lt;-<span class="st"> </span><span class="kw"><a href="../reference/spp_taxonconcept.html">spp_taxonconcept</a></span>(<span class="dt">query_taxon =</span> <span class="st">"Loxodonta africana"</span>)</a></code></pre></div>
<p>Text about taxonconcept outcomes to come …</p>
<div id="map-the-elephants-distribution" class="section level2">
<h2 class="hasAnchor">
<a href="#map-the-elephants-distribution" class="anchor"></a>Map the elephant’s distribution</h2>
<p>Before taking more insights into the legislation status of the elephant, we have a look at where the elephant actually occurs naturally. For this, we can access the elephant’s distribution information with the <code><a href="../reference/spp_distributions.html">spp_distributions()</a></code> function. Thereafter, we can map the distribution with the help of the <code>rworldmap</code> package.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="cf">if</span>(<span class="st">"rworldmap"</span> <span class="op">%in%</span><span class="st"> </span><span class="kw">rownames</span>(<span class="kw">installed.packages</span>()) <span class="op">==</span><span class="st"> </span><span class="ot">FALSE</span>){</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">  <span class="kw">install.packages</span>(<span class="st">"rworldmap"</span>)} <span class="co"># installing `rworldmap` if not installed yet</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw">suppressPackageStartupMessages</span>(<span class="kw">library</span>(rworldmap))</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="kw">par</span>(<span class="dt">las =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">map1 &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw"><a href="../reference/spp_distributions.html">spp_distributions</a></span>(<span class="dt">taxon_id =</span> <span class="st">"4521"</span>))</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">map2 &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/rworldmap/topics/joinCountryData2Map">joinCountryData2Map</a></span>(map1,</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">                            <span class="dt">joinCode=</span><span class="st">"ISO2"</span>,</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">                            <span class="dt">nameJoinColumn =</span> <span class="st">"iso_code2"</span>,</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">                            <span class="dt">nameCountryColumn =</span> <span class="st">"name"</span>)</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">map2<span class="op">@</span>data<span class="op">$</span>iso2 &lt;-<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">lapply</span>(map2<span class="op">$</span>iso_code2, is.null))</a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="kw">plot</span>(<span class="kw">c</span>(<span class="op">-</span><span class="dv">23</span>, <span class="dv">62</span>), <span class="kw">c</span>(<span class="dv">45</span>, <span class="dv">-40</span>),</a>
<a class="sourceLine" id="cb3-13" data-line-number="13">     <span class="dt">type =</span> <span class="st">"n"</span>,</a>
<a class="sourceLine" id="cb3-14" data-line-number="14">     <span class="dt">main =</span> <span class="st">"Loxodonta africana"</span>,</a>
<a class="sourceLine" id="cb3-15" data-line-number="15">     <span class="dt">xlab =</span> <span class="st">"Longitude"</span>,</a>
<a class="sourceLine" id="cb3-16" data-line-number="16">     <span class="dt">ylab =</span> <span class="st">"Latitude"</span>)</a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="kw">plot</span>(map2, <span class="dt">add =</span> T)</a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="kw">plot</span>(map2[<span class="op">!</span>map2<span class="op">$</span>iso2,], <span class="dt">col =</span> <span class="st">"#bda25d"</span>, <span class="dt">add =</span> T)</a></code></pre></div>
</div>
<div id="access-the-legislation-status" class="section level2">
<h2 class="hasAnchor">
<a href="#access-the-legislation-status" class="anchor"></a>Access the legislation status</h2>
<p>The functions <code><a href="../reference/spp_cites_legislation.html">spp_cites_legislation()</a></code> and <code><a href="../reference/spp_eu_legislation.html">spp_eu_legislation()</a></code> provide access to the legislation status information of the elephant, within 1. CITES in the overall and 2. the European Union.</p>
<p>First, we have a look at the CITES legislation status:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">elephant_cites &lt;-<span class="st"> </span><span class="kw"><a href="../reference/spp_cites_legislation.html">spp_cites_legislation</a></span>(<span class="dt">taxon_id =</span> <span class="st">"4521"</span>)</a></code></pre></div>
<p>Text about CITES legislation outcomes to come …</p>
<p>Code and Text about EU legislation outcomes to come …</p>
<p>Can we make some nice map about trade directions (as a combination of map2 and the legislation data)?</p>
</div>
<div id="access-the-elephants-speciesplus-reference-data" class="section level2">
<h2 class="hasAnchor">
<a href="#access-the-elephants-speciesplus-reference-data" class="anchor"></a>Access the elephant’s Speciesplus reference data</h2>
<p>Last but not least, especially scientists will probably be interested in what references the Speciesplus information about the elephant is based on. For this, we can access the Speciesplus reference data with the <code><a href="../reference/spp_references.html">spp_references()</a></code> function. Within the function, we can select to access either the taxonomic or distribution references with the <code>type</code> argument.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">elephant_ref_tax &lt;-<span class="st"> </span><span class="kw"><a href="../reference/spp_references.html">spp_references</a></span>(<span class="dt">taxon_id =</span> <span class="st">"4521"</span>, <span class="dt">type =</span> <span class="st">"taxonomic"</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">elephant_ref_distr &lt;-<span class="st"> </span><span class="kw"><a href="../reference/spp_references.html">spp_references</a></span>(<span class="dt">taxon_id =</span> <span class="st">"4521"</span>, <span class="dt">type =</span> <span class="st">"distribution"</span>)</a></code></pre></div>
<p>Text about references outcomes to come …</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction-and-setup">Introduction and setup</a></li>
      <li>
<a href="#retrieve-the-taxon-id">Retrieve the taxon id</a><ul class="nav nav-pills nav-stacked">
<li><a href="#map-the-elephants-distribution">Map the elephant’s distribution</a></li>
      <li><a href="#access-the-legislation-status">Access the legislation status</a></li>
      <li><a href="#access-the-elephants-speciesplus-reference-data">Access the elephant’s Speciesplus reference data</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jonas Geschke, Kevin Cazelles, Ignasi Bartomeus.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
